require 'rubygems'
require 'fruit_processor'

# include this if there is generated code in this dir
FruitProcessor.new.pre_process

$goal='calculator_fruit_driver'

$lib_bases = {'fruit' => FruitProcessor.new.build_dir, 
  'calculator' => nil}

task :default => [$goal, :deploy, :spec]

task :gen do
  FruitProcessor.new.pre_process
end

task :spec do
  FruitProcessor.new.spec_report
end

#file ['calculator_test.o', 'module_b_test.o']  => '/users/chena/workspace/sourceforge_fruit/build/libfruit.a'
#file 'calculator_test.o'  => '/users/chena/workspace/sourceforge_fruit/build/libfruit.a'

load "#{FruitProcessor.new.base_dir}/rake_base.rb"
include RakeBase
