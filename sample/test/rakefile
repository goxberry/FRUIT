require 'rubygems'
require 'fruit_processor'

# Add this line at the beginning if there are generated code involved
FruitProcessor.new.pre_process

$goal='calculator_fruit_driver'

# the link of the executable depends on libfruit.a, and libcalculator.a
# spefify where the files are here:
$lib_bases = {'fruit' => FruitProcessor.new.build_dir, 
  'calculator' => FruitProcessor.new.build_dir}

# if $build_dir is defined, then use build_dir

task :default => [:spec]

# if one module has to be compiled after another module, specify like this:
#file ['module_b_test.o']  => 'calculator_test.o'

load "#{FruitProcessor.new.base_dir}/rake_base.rb"
include RakeBase
